import sys

suffix = ['_b', '_t']

base = 0xf6ffd490
zetas_asm_base = 0x5b2c0
coeff = 'c'
q = 3329

def arguments ():
    for i in range (0, 252, 4):
        print ("           sint16 c_{0:02x}, sint16 c_{1:02x}, "
               "sint16 c_{2:02x}, sint16 c_{3:02x},".
               format (i, i+1, i+2, i+3))
    i += 4
    print ("           sint16 c_{0:02x}, sint16 c_{1:02x}, sint16 c_{2:02x}, "
           "sint16 c_{3:02x}".format (i, i+1, i+2, i+3))
        

def precondition ():
    print ("{\n  true\n&&")
    print ("  and [")
    for i in range (0, 254, 2):
        print ("    0@16 <=s c_{0:02x}, c_{0:02x} <s {2}@16, "
               "0@16 <=s c_{1:02x}, c_{1:02x} <s {2}@16,".format (i, i+1, q))
    i += 2
    print ("    0@16 <=s c_{0:02x}, c_{0:02x} <s {2}@16, "
           "0@16 <=s c_{1:02x}, c_{1:02x} <s {2}@16".format (i, i+1, q))
    print ("  ]\n}")

"""
const int16_t zetas_asm[128] = {
    2571, 2970, 1812, 1493, 3158, 622, 1422, 1577, 182, 287, 962, 2127, 202, 1855, 1468, 573, 1223, 652, 2004, 2777, 1015, 264, 2036, 1491, 383, 3047, 1785, 2500, 516, 3321, 1458, 3009, 2663, 1727, 1711, 2167, 3199, 126, 1469, 2648, 2476, 3239, 1017, 3058, 830, 732, 107, 1908, 608, 3082, 2378, 1787, 2931, 961, 411, 1821, 2604, 3124, 448, 2264, 1758, 677, 2054, 2226, 430, 555, 843, 2078, 871, 1550, 105, 422, 587, 177, 3094, 3038, 2869, 1574, 1653, 3083, 778, 1159, 3182, 2552, 1483, 2727, 1119, 1739, 644, 2457, 349, 418, 329, 3173, 3254, 817, 1097, 603, 610, 1322, 2044, 1864, 384, 2114, 3193, 1218, 1994, 2455, 220, 2142, 1670, 2144, 1799, 2051, 794, 1819, 2475, 2459, 478, 3221, 3021, 996, 991, 958, 1869, 1522, 1628
};
"""
def initialization ():
    for i in range (0, 256, 2):
        print ("mov L0x{0:x} c_{1:02x}; mov L0x{2:x} c_{3:02x};".
               format (    base + 2 * i,     i, base + 2 * i + 2, i + 1))
    print ("(* zatas_asm *)")
    zetas_asm = [
        2571, 2970, 1812, 1493, 3158, 622, 1422, 1577, 182, 287, 962, 2127, 202, 1855, 1468, 573, 1223, 652, 2004, 2777, 1015, 264, 2036, 1491, 383, 3047, 1785, 2500, 516, 3321, 1458, 3009, 2663, 1727, 1711, 2167, 3199, 126, 1469, 2648, 2476, 3239, 1017, 3058, 830, 732, 107, 1908, 608, 3082, 2378, 1787, 2931, 961, 411, 1821, 2604, 3124, 448, 2264, 1758, 677, 2054, 2226, 430, 555, 843, 2078, 871, 1550, 105, 422, 587, 177, 3094, 3038, 2869, 1574, 1653, 3083, 778, 1159, 3182, 2552, 1483, 2727, 1119, 1739, 644, 2457, 349, 418, 329, 3173, 3254, 817, 1097, 603, 610, 1322, 2044, 1864, 384, 2114, 3193, 1218, 1994, 2455, 220, 2142, 1670, 2144, 1799, 2051, 794, 1819, 2475, 2459, 478, 3221, 3021, 996, 991, 958, 1869, 1522, 1628
    ]
    for i in range (0, len (zetas_asm) - 1, 2):
        print ("mov L0x{0:x} 0x{1:04x}@uint16; "
               "mov L0x{2:x} 0x{3:04x}@uint16;".
               format (      zetas_asm_base + 2 * i, zetas_asm[i],
                       zetas_asm_base + 2 * (i + 1), zetas_asm[i+1]))
    i += 2
    print ("mov L0x{0:x} 0x{1:04x}@uint16;".
           format (zetas_asm_base + 2 * i, zetas_asm[i]))
    
        
print ("(* arguments *)")
arguments ()

print ("(* precondition *)")
precondition ()

print ("(* initialization *)")
initialization ()
